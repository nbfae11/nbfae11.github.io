var MapObject;(function(n){function t(){var i=n(".showsuccess"),t;i.length>0&&(t=n(".formIntro"),setTimeout(function(){t.empty()},100))}function i(){var t=n("#notificationPopup");t.length>0&&(setTimeout(function(){n(".notificationPopup").trigger("click")},200),n(".notificationPopup").fancybox({maxWidth:800,maxHeight:600,fitToView:!1,width:"70%",height:"auto",autoSize:!1,closeClick:!1,openEffect:"none",closeEffect:"none"}))}function r(){n(".various").fancybox({fitToView:!1,width:"100%",height:"100%",autoSize:!1,closeClick:!1,openEffect:"none",closeEffect:"none",wmode:"transparent",allowfullscreen:"true",wrapCSS:"fullScreenVideo",padding:[0,0,0,0]})}function u(){n(".decimal").keyup(function(){var t=n(this).val();isNaN(t)&&(t=t.replace(/[^0-9\.]/g,""),t.split(".").length>2&&(t=t.replace(/\.+$/,"")));n(this).val(t)});n(".ignore-specials").keyup(function(){var t=n(this).val();isNaN(t)&&(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\|\\:;'<>,.\/?])+/g,""));n(this).val(t)});n(".ignore-specials-numbers").keyup(function(){var t=n(this).val();isNaN(t)&&(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\|\\:;'<>,.\/0-9?])+/g,""));n(this).val(t)});n(".ignore-specials-comments").keyup(function(){var t=n(this).val();isNaN(t)&&(t=t.replace(/([~#^_`{}\[\]\|\\<>])+/g,""));n(this).val(t)})}function f(){n(".FlatAprCalculator-message").hide();n(".AprFlatCalculator-message").hide();n(".filters-btn-list.calculator-tabs a").prop("href","#");n(".filters-btn-list.calculator-tabs a").click(function(t){t.preventDefault();history.pushState(null,null,n(this).attr("data-href"))});n("#HowMuchForm input").bind("blur",function(){function f(){n('<div class="errorblock errorName input-field input-left showerrorblock">Enter a value between 1 and 1,000,000 AED<\/div>').insertAfter(i)}var i=this,r=parseInt(i.value,10),u=i.getAttribute("errorfield"),t=u?n("#"+u):n(i).next();r<0||r>1e6?(t.length||f(),t.hasClass("showerrorblock")||t.addClass("showerrorblock")):t.hasClass("showerrorblock")&&t.removeClass("showerrorblock")})}function e(){n("a.downloadFile, a.downloadpdf").length>0&&n("a.downloadFile, a.downloadpdf").each(function(){var t=n(this).attr("href");n(this).attr("href","/umbraco/Surface/Widget/DownloadFile?file="+t)});n("span.downloadFile, span.downloadpdf").length>0&&n("span.downloadFile, span.downloadpdf").each(function(){var t=n(this).find("a").first().attr("href");n(this).find("a").first().attr("href","/umbraco/Surface/Widget/DownloadFile?file="+t)})}function o(){setTimeout(function(){n(".tab-hidden .google-recaptcha").html("");n(".tab-active .google-recaptcha").html(n(".google-recaptcha-validation").html())},500);n(".filters-btn-list a").click(function(t){t.preventDefault();var f=n(this).attr("data-tab"),r=n("#"+f),i="tab-active",u="tab-hidden";n(".tab-forms").hasClass(i)&&(n(".tab-forms").addClass(u),n(".tab-forms").removeClass(i));n(r).removeClass(u);n(r).addClass(i);n(".tab-hidden .google-recaptcha").html("");n(".tab-active .google-recaptcha").html(n(".google-recaptcha-validation").html())});n(".active-tab").length>0&&n(".active-tab").attr("data-active")!=""&&(n(".filters-btn-list a").removeClass("active"),n(".tab-forms:not(.active-tab)").each(function(){n(this).hasClass("tab-active")&&(n(this).removeClass("tab-active"),n(this).addClass("tab-hidden"))}),n("html, body").animate({scrollTop:n(".active-tab").offset().top-180},500),n(".tab-forms.active-tab").removeClass("tab-hidden"),n("."+n(".active-tab").attr("data-active")).addClass("active"))}function s(){iFrameResize({log:!0,inPageLinks:!0})}function h(){function a(){o()}function v(n){e=n.coords.latitude+","+n.coords.longitude;s(r,i,e)}function o(){s(r,i,"")}function s(t,r){n.ajax({dataType:"JSON",url:"/umbraco/Surface/Partials/Locations",type:"GET",data:{region:t,language:r,origin:""},error:function(){},success:function(t){u=t.Branches;f=t.Atms;n("#tmpl-location").tmpl(u).appendTo(".branches-list");n("#tmpl-location").tmpl(f).appendTo(".atms-list");n(".development-map-tabs-list li a.active").attr("data-tab")==="atm"?(alert("ATM"),initLocationMap(f,i)):(alert("BRANCH"),initLocationMap(u,i));initAccordion();n(".custom-scroll").each(function(){n(this).jScrollPane({autoReinitialise:!0})})}})}var h=n("#locationMap");if(h.length>0){var u,f,e,t=l(window.location.href),r=t.region!=null&&t.region!=""?t.region:n(".location-holder").attr("data-Emirate"),i=t.language!=null&&t.language!=""?t.language:n(".location-holder").attr("data-Language");if(n(".ddlEmirates").change(function(){r=n(this).val();n(".location-holder").attr("data-Emirate",r);n(".locations-list").empty();s(r,i,e)}),n(".development-map-tabs-list li a").click(function(){var t=n(this).attr("data-tab"),r=t==="branch"?u:f;initLocationMap(r,i)}),navigator.geolocation)try{navigator.geolocation.getCurrentPosition(v,a,{timeout:1e4})}catch(c){o();console.log(c)}else o();function initLocationMap(t,i){MapObject=n("#locationMap").initializeGoogleMap({mapZoom:15,zoomControl:!0,mapLanguage:i,mapType:MapType.Roadmap,fitToLocations:!0,focusOnClick:!0,mapWidth:800,mapHeight:540,markerGrouping:!0,tooltipOnHover:!1,clearMarkers:!0,mapLocations:t,infoBoxOptions:{pixelOffsetLeft:-140,pixelOffsetTop:-45,alignBottom:!0}})}function y(t,i){var r=MapObject.GetLocations();r!=null&&n.each(r,function(r,u){u.Coordinates[0].Latitude==t&&u.Coordinates[0].Longitude==i&&(MapObject.SetActiveLocation(u,!0),n("html,body").animate({scrollTop:n("#locationMap").first().offset().top-100},"slow"),MapObject.ZoomToLocation(u))})}}}function c(){}function l(n){for(var r=[],t,u=n.slice(n.indexOf("?")+1).split("&"),i=0;i<u.length;i++)t=u[i].split("="),r.push(t[0]),r[t[0]]=t[1];return r}t();r();u();f();e();o();s();h();c();i()})(jQuery),function(n){function i(){r();n(".showmessage").length>0&&n("html, body").animate({scrollTop:n(".showmessage").offset().top-200},400);n(".scrollpos").length>0&&n("html, body").animate({scrollTop:n(".scrollpos").offset().top-70},400);n(".showerrorblock").length>0&&n("html, body").animate({scrollTop:n(".showerrorblock").offset().top-250},400);n('input[id^="CaptchaInputText"]').length>0&&n('input[id^="CaptchaInputText"]').each(function(){n(this).attr("errorfield","Error"+n(this).attr("name"));n(this).addClass("required")});n('a[href^="#CaptchaImage"]').addClass("captchaImage");n('a[href^="#CaptchaImage"]').attr("href","javascript:;");n("#MotorInsuranceForm").validate({showErrors:function(t,i){n.each(i,function(t,i){var r=n(i.element).attr("errorfield");n("#"+r).addClass("showerrorblock")})},focusInvalid:!0,invalidHandler:function(t,i){i.numberOfInvalids()&&n("html, body").animate({scrollTop:n(i.errorList[0].element).offset().top-130},400)},rules:{Email:{emailRegex:!0}},errorPlacement:function(){return!1}});n("#ICICIForm").validate({showErrors:function(t,i){n.each(i,function(t,i){var r=n(i.element).attr("errorfield");n("#"+r).addClass("showerrorblock")})},focusInvalid:!0,invalidHandler:function(t,i){i.numberOfInvalids()&&n("html, body").animate({scrollTop:n(i.errorList[0].element).offset().top-130},400)},rules:{Email:{emailRegex:!0},Mobile:{phoneRegex:!0},ExistingCustomer:{required:!0,selectType:!0},ICICIProduct:{checkboxes:"personal-product-checkbox"}},errorPlacement:function(){return!1}});n("#ReferralCampaign").validate({showErrors:function(t,i){n.each(i,function(t,i){var r=n(i.element).attr("errorfield");n("#"+r).addClass("showerrorblock")})},focusInvalid:!0,invalidHandler:function(t,i){i.numberOfInvalids()&&n("html, body").animate({scrollTop:n(i.errorList[0].element).offset().top-130},400)},rules:{ReferrerEmail:{emailRegex:!0},ReferrerMobile:{phoneRegex:!0},ReferralEmail:{emailRegexOptional:!0},ReferralMobile:{phoneRegex:!0},ReferralEmirate:{required:!0,selectType:!0},ReferralNationality:{required:!0,selectType:!0},InterestedProduct:{checkboxes:"interested-product-checkbox"}},errorPlacement:function(){return!1}});n("#TreasuryNewsletterForm").validate({showErrors:function(t,i){n.each(i,function(t,i){var r=n(i.element).attr("errorfield");n("#"+r).addClass("showerrorblock")})},focusInvalid:!0,invalidHandler:function(t,i){i.numberOfInvalids()&&n("html, body").animate({scrollTop:n(i.errorList[0].element).offset().top-130},400)},rules:{Email:{emailRegex:!0},NewsletterSubscription:{checkboxes:"subscription-checkbox"}},errorPlacement:function(){return!1}});n("#ContactPersonalBanking").validate({showErrors:function(t,i){n.each(i,function(t,i){var r=n(i.element).attr("errorfield");n("#"+r).addClass("showerrorblock")})},focusInvalid:!0,invalidHandler:function(t,i){i.numberOfInvalids()&&n("html, body").animate({scrollTop:n(i.errorList[0].element).offset().top-130},400)},rules:{PersonalEmail:{emailRegex:!0},PersonalMobile:{phoneRegex:!0},PersonalEmirate:{required:!0,selectType:!0},PersonalProduct:{checkboxes:"personal-product-checkbox"}},errorPlacement:function(){return!1}});n("#ContactBusinessBanking").validate({showErrors:function(t,i){n.each(i,function(t,i){var r=n(i.element).attr("errorfield");n("#"+r).addClass("showerrorblock")})},focusInvalid:!0,invalidHandler:function(t,i){i.numberOfInvalids()&&n("html, body").animate({scrollTop:n(i.errorList[0].element).offset().top-130},400)},rules:{BusinessEmail:{emailRegex:!0},BusinessMobile:{phoneRegex:!0},BusinessEmirate:{required:!0,selectType:!0},BusinessCompanyTurnOver:{required:!0,selectType:!0},BusinessNumberofYear:{required:!0,selectType:!0},BusinessAuditedFinancialResult:{required:!0,selectType:!0},BusinessPrimaryBusinessArea:{required:!0,selectType:!0},BusinessIndustry:{required:!0,selectType:!0},BusinessProduct:{checkboxes:"business-product-checkbox"}},errorPlacement:function(){return!1}});n("#ContactGeneralFeedback").validate({showErrors:function(t,i){n.each(i,function(t,i){var r=n(i.element).attr("errorfield");n("#"+r).addClass("showerrorblock")})},focusInvalid:!0,invalidHandler:function(t,i){i.numberOfInvalids()&&n("html, body").animate({scrollTop:n(i.errorList[0].element).offset().top-130},400)},rules:{FeedbackEmail:{emailRegex:!0},FeedbackMobile:{phoneRegex:!0},FeedbackEmirate:{required:!0,selectType:!0},FeedbackEnquiry:{required:!0,selectType:!0}},errorPlacement:function(){return!1}});n("#IBANGenerator").validate({showErrors:function(t,i){n.each(i,function(t,i){var r=n(i.element).attr("errorfield");n("#"+r).addClass("showerrorblock")})},focusInvalid:!0,invalidHandler:function(t,i){i.numberOfInvalids()&&n("html, body").animate({scrollTop:n(i.errorList[0].element).offset().top-130},400)},rules:{AccountNumber:{required:!0,exactLength:12}},errorPlacement:function(){return!1},submitHandler:function(){var r=n("#iban-container"),i=n('input[type="text"].accountnumber-text').val();return t(i)||n.get("/umbraco/surface/tools/IbanGenerator",{accountNumber:i,language:r.data("language")},function(t){var i=n(".code-area");t.Status?(i.hasClass("code-error")&&i.removeClass("code-error"),i.hasClass("code-success")||i.addClass("code-success")):(i.hasClass("code-success")&&i.removeClass("code-success"),i.hasClass("code-error")||i.addClass("code-error"));i.addClass(t.Status);n(".code-area .code").html(t.Message)}),!1}});n("#AprFlatForm").validate({showErrors:function(t,i){n.each(i,function(t,i){var r=n(i.element).attr("errorfield");n("#"+r).addClass("showerrorblock")})},focusInvalid:!0,invalidHandler:function(t,i){i.numberOfInvalids()&&n("html, body").animate({scrollTop:n(i.errorList[0].element).offset().top-130},400)},rules:{AprLoanAmount:{required:!0,lessThanOrEqualToMillion:!0},AprLoanPeriod:{required:!0,maxLoanTenure:!0},AprInterestRate:{required:!0,maxInterestRate:!0}},errorPlacement:function(){return!1},submitHandler:function(){n(".AprFlatCalculator-message").hide();var t=parseInt(n("#AprLoanAmount").val()),i=parseInt(n("#AprLoanPeriod").val()),r=parseFloat(n("#AprInterestRate").val());return t>0&&i>0&&r>0&&n.post("/umbraco/surface/tools/AprFlatCalculator",{aprLoanAmount:t,aprLoanPeriod:i,aprInterestRate:r},function(t){var i=n(".code-area");t.Status&&(n(".AprFlatCalculator-message").show(),n(".AprFlatCalculator-repayment").html(t.Repayment),n(".AprFlatCalculator-interest").html(t.InterestRate))}),!1}});n("#FlatAprForm").validate({showErrors:function(t,i){n.each(i,function(t,i){var r=n(i.element).attr("errorfield");n("#"+r).addClass("showerrorblock")})},focusInvalid:!0,invalidHandler:function(t,i){i.numberOfInvalids()&&n("html, body").animate({scrollTop:n(i.errorList[0].element).offset().top-130},400)},rules:{FlatLoanAmount:{required:!0,lessThanOrEqualToMillion:!0},FlatLoanPeriod:{required:!0,maxLoanTenure:!0},FlatInterestRate:{required:!0,maxInterestRate:!0}},errorPlacement:function(){return!1},submitHandler:function(){n(".FlatAprCalculator-message").hide();var t=parseInt(n("#FlatLoanAmount").val()),i=parseInt(n("#FlatLoanPeriod").val()),r=parseFloat(n("#FlatInterestRate").val());return t>0&&i>0&&r>0&&n.post("/umbraco/surface/tools/FlatAprCalculator",{flatLoanAmount:t,flatLoanPeriod:i,flatInterestRate:r},function(t){var i=n(".code-area");t.Status&&(n(".FlatAprCalculator-message").show(),n(".FlatAprCalculator-repayment").html(t.Repayment),n(".FlatAprCalculator-interest").html(t.InterestRate))}),!1}})}function r(){n('input[type="text"]:not(.digits-only)').bind("change",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n('input[type="text"]:not(.digits-only)').bind("keyup",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n('input[type="email"]').bind("change",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n('input[type="email"]').bind("keyup",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n('input[type="tel"]').bind("change",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n('input[type="tel"]').bind("keyup",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n('input[type="password"]').bind("keyup",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n('input[type="text"]:not(.digits-only)').bind("blur",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n('input[type="radio"]').bind("change",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n("textarea").bind("change",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n("textarea").bind("keyup",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n('input[type="checkbox"]').bind("change",function(){var i=n(".drop-input").val();(n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(".checkbox:checkbox:checked").length>0||n("#Other:checked").length>0&&!t(i))&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n(".drop-input").bind("change",function(){var i=n(this).val();(n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(".checkbox:checkbox:checked").length>0||n("#Other:checked").length>0&&!t(i))&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n(".drop-input").bind("keyup",function(){var i=n(this).val();(n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(".checkbox:checkbox:checked").length>0||n("#Other:checked").length>0&&!t(i))&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n('input[type="file"]').bind("change",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n.validator.addMethod("selectType",function(n){return n==="-1"?!1:!0});n.validator.addMethod("phoneRegex",function(n,t){return this.optional(t)||/^(\+{0,1})([0-9]{10,14})$/i.test(n)});n.validator.addMethod("emailRegex",function(n,t){return this.optional(t)||/^([a-zA-Z0-9_\-\.\+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/i.test(n)});n.validator.addMethod("emailRegexOptional",function(n,i){return t(n)?!0:this.optional(i)||/^([a-zA-Z0-9_\-\.\+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/i.test(n)});n.validator.addMethod("youTubeRegex",function(n,t){return this.optional(t)||/^(https?\:\/\/)?(www\.youtube\.com)\/.+$/i.test(n)});n.validator.addMethod("filesize",function(n,t,i){return this.optional(t)||t.files[0].size<=i});n.validator.addMethod("lessThanOrEqualTo",function(n,t,i){return this.optional(t)||n>=1&&n<=i});n.validator.addMethod("lessThanOrEqualToMillion",function(n,t){return this.optional(t)||n>=1&&n<=1e6});n.validator.addMethod("maxInterestRate",function(n,t){return this.optional(t)||n<100});n.validator.addMethod("maxLoanTenure",function(n,t){return this.optional(t)||n>=1&&n<=48});n.validator.addMethod("exactLength",function(n,t,i){return this.optional(t)||n.length==i});n.validator.addMethod("firstName",function(t,i){var r=this.optional(i)||/^[A-Za-z\s]+$/i.test(t);return r===!1&&t.length>0?n("#ErrorFirstName").html(n("#OnlyCharAllowed").text()):n("#ErrorFirstName").html(n("#validFirstName").text()),r});n("input.FirstName:text").bind("change",function(){var t=n(this).attr("value");t.length===0&&n("#ErrorFirstName").html(n("#validFirstName").text())});n.validator.addMethod("lastName",function(t,i){var r=this.optional(i)||/^[A-Za-z\s]+$/i.test(t);return r===!1&&t.length>0?n("#ErrorLastName").html(n("#OnlyCharAllowed").text()):n("#ErrorLastName").html(n("#validLastName").text()),r});n("input.LastName:text").bind("change",function(){var t=n(this).attr("value");t.length==0&&n("#ErrorLastName").html(n("#validLastName").text())});n("select").bind("change",function(){n("#"+n(this).attr("errorfield")).hasClass("showerrorblock")&&n(this).valid()&&n("#"+n(this).attr("errorfield")).removeClass("showerrorblock")});n.validator.addMethod("checkboxes",function(t,i,r){return n("."+r+":checkbox:checked").length>0?(n("#"+i.attributes[2].value).removeClass("showerrorblock"),!0):!1})}function t(n){return!/\S/.test(n)}function u(){n("input").focusin(function(){var t=n(this);t.data("place-holder-text",t.attr("placeholder"));t.attr("placeholder","")});n("input").focusout(function(){var t=n(this);t.attr("placeholder",t.data("place-holder-text"))})}i();u()}(jQuery)